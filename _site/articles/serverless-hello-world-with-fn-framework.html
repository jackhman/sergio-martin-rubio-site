
<div class="list-group my-3">

  
    <a class="list-group-item list-group-item-action active disabled text-white">Table of Contents</a>
  

  
    
      <a class="list-group-item list-group-item-action" href="#introduction">Introduction</a>
    
  
    
      <a class="list-group-item list-group-item-action" href="#features">
Features</a>
    
  
    
      <a class="list-group-item list-group-item-action" href="#requirements">
Requirements</a>
    
  
    
      <a class="list-group-item list-group-item-action" href="#getting-started">
Getting Started</a>
    
  
    
      <a class="list-group-item list-group-item-action" href="#useful-commands">
Useful commands</a>
    
  

</div>

<h2 id="introduction">Introduction</h2>

<p>The hype about <a href="https://en.wikipedia.org/wiki/Serverless_computing">serverless</a> applications has been growing lately and <strong>AWS</strong> is the leader at the moment, however there are other alternative such as Fn Project supported by Oracle or <strong>OpenWhisk</strong> supported by <strong>IBM</strong>.</p>

<p>I found out about <strong><a href="https://github.com/fnproject/fn">Fn Project</a></strong> during <em>Democratizing Serverless Talk</em> at <strong><a href="https://dzone.com/articles/qcon-london-2018">London QCon 2018</a></strong> and couldn’t wait to try this platform, since you can run your own serverless architecture on your own laptop.</p>

<h2 id="features">Features</h2>

<ul>
  <li>Open source.</li>
  <li>Docker-based platform.</li>
  <li>Allows you to run it locally.</li>
  <li>Helm chart available at https://github.com/fnproject/fn-helm</li>
  <li>Metrics/Monitoring: Prometheus, syslog…</li>
  <li>Supports many languages: Java, Golang, Ruby, Python, PHP, and Node.js</li>
  <li>Easy to use.</li>
</ul>

<figure class="figure w-100">
  <img src="https://lh3.googleusercontent.com/YixY7IJ-0e53by1N1FrZANp22E9zZ89rycnqbBZlXh2TBtIzQvEgWcYQre8_2njGDybbgj733sIPhMjZR6BAeUhEbHuT_w-dGuKmuo_4cj6CSrbm3-W1tLRPS2-04yQILiyINlUB=w2400" class="figure-img img-fluid rounded" alt="Fn Project Architecture" />
  
    <figcaption class="figure-caption text-center">Fn Project Architecture</figcaption>
  
</figure>

<h2 id="requirements">Requirements</h2>

<ol>
  <li><strong>Docker 17.06</strong> or later version.</li>
  <li><strong>Docker Hub account</strong></li>
  <li>Log into your Docker Hub account (docker login).</li>
  <li>Install <strong>Fn CLI tool</strong>.
    <ul>
      <li><em>MacOS</em>:</li>
    </ul>
  </li>
</ol>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>fn
</code></pre></div></div>

<ul>
  <li><em>MacOS</em> and <em>Linux</em></li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-LSs</span> https://raw.githubusercontent.com/fnproject/cli/master/install | sh
</code></pre></div></div>

<ol>
  <li><em>MacOS</em>, Wi_n_dows and <em>Linux</em>: download latest bin file for your OS.</li>
</ol>

<h2 id="getting-started">Getting Started</h2>

<ol>
  <li>Start up Fn server.</li>
</ol>

<blockquote>
  <p>Make sure <strong>Docker</strong> is up and running.</p>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fn start
</code></pre></div></div>

<p>Now a docker container (fnproject/fnserver) is running on our machine.</p>

<ol>
  <li>Make use of Fn <em>CLI tool</em> to create a project with the language of your choice.</li>
</ol>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fn init <span class="nt">--runtime</span> go <span class="nt">--timeout</span> 10 <span class="nt">--idle-timeout</span> 10 hello-serverless
</code></pre></div></div>

<blockquote>
  <p>Golang has been my choice for this hello world serverless application since it is a lightweight and easy to use programming language.</p>
</blockquote>

<p><strong>–timeout</strong> -&gt; for how long the code is going to be running</p>

<p><strong>–idle-timeout 10</strong> -&gt; time container is going to wait for another call</p>

<p>When running <code class="highlighter-rouge">fn init</code> a <strong>Dockerfile</strong> is generated by Fn:</p>

<pre><code class="language-Dockerfile">FROM fnproject/go:dev as build-stage
WORKDIR /function
RUN go get -u github.com/golang/dep/cmd/dep
ADD . /go/src/func/
RUN cd /go/src/func/ &amp;&amp; dep ensure
RUN cd /go/src/func/ &amp;&amp; go build -o func
FROM fnproject/go
WORKDIR /function
COPY --from=build-stage /go/src/func/func /function/
ENTRYPOINT ["./func"]
</code></pre>

<p>After running the init command all the boilerplate has been created:</p>

<p><strong>func.go</strong> -&gt; Go application
<strong>func.yaml</strong> -&gt; Fn configuration file
<strong>test.json</strong> -&gt; test file for the application
<strong>Gopkg.toml</strong> -&gt; file for Goland dependency management.</p>

<ol>
  <li>Run application</li>
</ol>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fn run
</code></pre></div></div>

<p><mark class="px-2">First time you run this command will take longer.</mark></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span><span class="s2">"message"</span>:<span class="s2">"Hello World"</span><span class="o">}</span>
</code></pre></div></div>

<ol>
  <li>Deploy the function to the local <strong>Fn server</strong> to add the application to the <strong>Fn list</strong>.</li>
</ol>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fn deploy <span class="nt">--app</span> myapp <span class="nt">--local</span>
</code></pre></div></div>

<blockquote>
  <p>The local flag is to avoid pushing the image to your <strong>Docker Hub</strong>. In case you want to use the Docker repository, first you have to set the <strong>Docker Hub</strong> username: <code class="highlighter-rouge">export FN_REGISTRY=DOCKER_HUB_USERNAME</code></p>
</blockquote>

<p>Now you can open your browser and go to http://localhost:8080/r/myapp/hello-serverless</p>

<h2 id="useful-commands">Useful commands</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fn apps list <span class="c">#shows applications registered on your Fn server</span>
fn routes list myapp <span class="c">#shows application endpoints</span>
fn apps delete myapp <span class="c">#deletes application</span>
</code></pre></div></div>
